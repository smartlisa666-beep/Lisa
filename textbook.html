<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>하하매스 교육 플랫폼 - 교과서</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body>
    <!-- Global Navigation Bar -->
    <nav class="gnb">
        <div class="gnb-container">
            <div class="gnb-logo" onclick="location.href='index.html'">
                <i class="fas fa-graduation-cap"></i>
                <span>하하매스</span>
            </div>
            <ul class="gnb-menu">
                <li><a href="index.html"><i class="fas fa-home"></i> 홈</a></li>
                <li><a href="textbook.html" class="active"><i class="fas fa-book"></i> 교과서</a></li>
                <li><a href="assignment.html"><i class="fas fa-tasks"></i> 과제</a></li>
                <li><a href="evaluation.html"><i class="fas fa-clipboard-check"></i> 평가</a></li>
                <li><a href="materials.html"><i class="fas fa-folder-open"></i> 수업자료실</a></li>
            </ul>
            <div class="gnb-user">
                <div class="user-profile">
                    <i class="fas fa-user-circle"></i>
                    <span>hahamath066-t</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1 class="page-title">
                <i class="fas fa-book"></i>
                교과서 - 1. 큰 수 > 십만, 백만, 천만을 알아볼까요?
            </h1>
        </div>

        <div class="card">
            <div class="card-body">
                <div class="textbook-viewer">
                    <!-- Slide Thumbnails -->
                    <div class="slide-thumbnails">
                        <div class="thumbnail-item active" data-slide="1">
                            <span class="slide-number">1</span>
                            <img src="https://www.genspark.ai/api/files/s/cBaCyu7w" alt="슬라이드 1" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22150%22%3E%3Crect fill=%22%234A90E2%22 width=%22200%22 height=%22150%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 font-size=%2218%22 fill=%22white%22 text-anchor=%22middle%22 dy=%22.3em%22%3E%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C%201%3C/text%3E%3C/svg%3E'">
                        </div>
                        <div class="thumbnail-item" data-slide="2">
                            <span class="slide-number">2</span>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%234A90E2' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' font-size='18' fill='white' text-anchor='middle' dy='.3em'%3E슬라이드 2%3C/text%3E%3C/svg%3E" alt="슬라이드 2">
                        </div>
                        <div class="thumbnail-item" data-slide="3">
                            <span class="slide-number">3</span>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%234A90E2' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' font-size='18' fill='white' text-anchor='middle' dy='.3em'%3E슬라이드 3%3C/text%3E%3C/svg%3E" alt="슬라이드 3">
                        </div>
                        <div class="thumbnail-item" data-slide="4">
                            <span class="slide-number">4</span>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%234A90E2' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' font-size='18' fill='white' text-anchor='middle' dy='.3em'%3E슬라이드 4%3C/text%3E%3C/svg%3E" alt="슬라이드 4">
                        </div>
                        <div class="thumbnail-item" data-slide="5">
                            <span class="slide-number">5</span>
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%234A90E2' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' font-size='18' fill='white' text-anchor='middle' dy='.3em'%3E슬라이드 5%3C/text%3E%3C/svg%3E" alt="슬라이드 5">
                        </div>
                    </div>

                    <!-- Main Slide Area -->
                    <div class="main-slide" id="main-slide">
                        <!-- Quiz Content -->
                        <div class="quiz-container">
                            <h2 class="quiz-title">
                                <i class="fas fa-question-circle"></i>
                                잠깐 퀴즈
                            </h2>
                            <div class="quiz-question">
                                다음 다섯 자리 수에 대한 설명을 보고<br>
                                맞으면 <strong style="color: var(--green);">O</strong>, 틀리면 <strong style="color: var(--red);">X</strong>를 선택하세요.<br><br>
                                <div style="font-size: 2rem; color: var(--primary-navy); font-weight: 700; margin: 1.5rem 0;">43902</div>
                                "이 수는 사만 삼천구백이 입니다."
                            </div>
                            <div class="quiz-options">
                                <button class="quiz-option" onclick="checkAnswer('O')" data-answer="O">
                                    O
                                </button>
                                <button class="quiz-option" onclick="checkAnswer('X')" data-answer="X">
                                    X
                                </button>
                            </div>
                            <div id="quiz-result" style="margin-top: 2rem; font-size: 1.2rem; font-weight: 600;"></div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Controls -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--gray-100);">
                    <button class="btn btn-secondary" onclick="previousSlide()">
                        <i class="fas fa-chevron-left"></i>
                        이전
                    </button>
                    <div style="color: var(--gray-600); font-weight: 500;">
                        <span id="current-slide">1</span> / 5
                    </div>
                    <button class="btn btn-secondary" onclick="nextSlide()">
                        다음
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Additional Resources -->
        <div class="card mt-4">
            <div class="card-header">
                <h2><i class="fas fa-paperclip"></i> 관련 자료</h2>
            </div>
            <div class="card-body">
                <div class="item-grid">
                    <div class="item-card">
                        <div class="item-card-header">
                            <div class="item-badges">
                                <span class="badge badge-manual">교과서</span>
                            </div>
                            <div class="item-title">큰 수 개념 정리</div>
                        </div>
                        <div class="item-card-body">
                            <div class="item-meta">
                                <div class="item-meta-row">
                                    <i class="fas fa-book"></i>
                                    <span>초등 수학 4-1</span>
                                </div>
                                <div class="item-meta-row">
                                    <i class="fas fa-layer-group"></i>
                                    <span>1단원</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="item-card">
                        <div class="item-card-header">
                            <div class="item-badges">
                                <span class="badge badge-manual">연습문제</span>
                            </div>
                            <div class="item-title">큰 수 읽고 쓰기 연습</div>
                        </div>
                        <div class="item-card-body">
                            <div class="item-meta">
                                <div class="item-meta-row">
                                    <i class="fas fa-book"></i>
                                    <span>초등 수학 4-1</span>
                                </div>
                                <div class="item-meta-row">
                                    <i class="fas fa-star"></i>
                                    <span>난이도: 중</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="item-card">
                        <div class="item-card-header">
                            <div class="item-badges">
                                <span class="badge badge-manual">심화학습</span>
                            </div>
                            <div class="item-title">큰 수의 크기 비교하기</div>
                        </div>
                        <div class="item-card-body">
                            <div class="item-meta">
                                <div class="item-meta-row">
                                    <i class="fas fa-book"></i>
                                    <span>초등 수학 4-1</span>
                                </div>
                                <div class="item-meta-row">
                                    <i class="fas fa-star"></i>
                                    <span>난이도: 상</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="js/main.js"></script>
    <script>
        // Textbook specific scripts
        let currentSlide = 1;
        const totalSlides = 5;

        function checkAnswer(answer) {
            const resultDiv = document.getElementById('quiz-result');
            const options = document.querySelectorAll('.quiz-option');
            
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.dataset.answer === answer) {
                    if (answer === 'X') {
                        option.classList.add('correct');
                        resultDiv.innerHTML = '<span style="color: var(--green);"><i class="fas fa-check-circle"></i> 정답입니다!</span><br><small style="color: var(--gray-600);">43902는 "사만 삼천구백이"가 아니라 "사만 삼천구백이"입니다.</small>';
                    } else {
                        option.classList.add('incorrect');
                        resultDiv.innerHTML = '<span style="color: var(--red);"><i class="fas fa-times-circle"></i> 다시 생각해보세요.</span>';
                    }
                }
            });
            
            setTimeout(() => {
                options.forEach(option => {
                    option.style.pointerEvents = 'auto';
                    option.classList.remove('correct', 'incorrect');
                });
                resultDiv.innerHTML = '';
            }, 3000);
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
            }
        }

        function previousSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updateSlide();
            }
        }

        function updateSlide() {
            document.getElementById('current-slide').textContent = currentSlide;
            
            // Update thumbnail active state
            document.querySelectorAll('.thumbnail-item').forEach((thumb, index) => {
                if (index + 1 === currentSlide) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
            });

            // Update main slide content (placeholder)
            const mainSlide = document.getElementById('main-slide');
            if (currentSlide === 1) {
                mainSlide.innerHTML = `
                    <div class="quiz-container">
                        <h2 class="quiz-title">
                            <i class="fas fa-question-circle"></i>
                            잠깐 퀴즈
                        </h2>
                        <div class="quiz-question">
                            다음 다섯 자리 수에 대한 설명을 보고<br>
                            맞으면 <strong style="color: var(--green);">O</strong>, 틀리면 <strong style="color: var(--red);">X</strong>를 선택하세요.<br><br>
                            <div style="font-size: 2rem; color: var(--primary-navy); font-weight: 700; margin: 1.5rem 0;">43902</div>
                            "이 수는 사만 삼천구백이 입니다."
                        </div>
                        <div class="quiz-options">
                            <button class="quiz-option" onclick="checkAnswer('O')" data-answer="O">
                                O
                            </button>
                            <button class="quiz-option" onclick="checkAnswer('X')" data-answer="X">
                                X
                            </button>
                        </div>
                        <div id="quiz-result" style="margin-top: 2rem; font-size: 1.2rem; font-weight: 600;"></div>
                    </div>
                `;
            } else {
                mainSlide.innerHTML = `
                    <div style="text-align: center;">
                        <h2 style="color: var(--primary-navy); margin-bottom: 2rem;">슬라이드 ${currentSlide}</h2>
                        <div style="width: 100%; max-width: 800px; height: 500px; background: linear-gradient(135deg, var(--light-blue) 0%, var(--white) 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: var(--primary-blue);">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <p style="margin-top: 2rem; color: var(--gray-600);">수업 내용이 표시됩니다.</p>
                    </div>
                `;
            }
        }

        // Thumbnail click handler
        document.querySelectorAll('.thumbnail-item').forEach((thumb, index) => {
            thumb.addEventListener('click', () => {
                currentSlide = index + 1;
                updateSlide();
            });
        });
    </script>
</body>
</html>